const mongoose = require("mongoose");
mongoose.connect("mongodb://localhost:27017/db-koperasi-simpan-pinjam");

const transaksiSchema = new mongoose.Schema({
    id_transaksi: Number,
    id_pinjam: String,
    id_nsb: Number,
    id_simpan: Number,
    tgl_transaksi: String,
    jml_transaksi: Number
   });
   const transaksi = mongoose.model("transaksi", transaksiSchema);
   mongoose.pluralize(null);
   //Pinjaman
   const transaksi1 = new transaksi({
        id_transaksi: 1,
        id_pinjam: 54321,
        id_nsb: 1001,
        tgl_transaksi: "28-08-2022",
        jml_transaksi: 100000
    });
    
    const transaksi2 = new transaksi({
        id_transaksi: 2,
        id_pinjam: 54322,
        id_nsb: 1002,
        tgl_transaksi: "12-02-2022",
        jml_transaksi: 3000000,
       
    });
    const transaksi3 = new transaksi({
        id_transaksi: 3,
        id_pinjam: 54323,
        id_nsb: 1003,
        tgl_transaksi: "15-02-2022",
        jml_transaksi: 2000000,
       
    });
    const transaksi4 = new transaksi({
        id_transaksi: 4,
        id_pinjam: 54324,
        id_nsb: 1004,
        tgl_transaksi: "31-06-2022",
        jml_transaksi: 5000000
       
    });
    const transaksi5 = new transaksi({
        id_transaksi: 5,
        id_pinjam: 54325,
        id_nsb: 1005,
        tgl_transaksi: "24-02-2022",
        jml_transaksi: 7000000
       
    });
    const transaksi6 = new transaksi({
        id_transaksi: 6,
        id_pinjam: 54326,
        id_nsb: 1006,
        tgl_transaksi: "05-09-2022",
        jml_transaksi: 8000000
    });
    const transaksi7 = new transaksi({
        id_transaksi: 7,
        id_pinjam: 54327,
        id_nsb: 1007,
        tgl_transaksi: "05-10-2022",
        jml_transaksi:  1000000
    });
    const transaksi8 = new transaksi({
        id_transaksi: 8,
        id_pinjam: 54328,
        id_nsb: 1008,
        tgl_transaksi: "18-08-2022",
        jml_transaksi: 3000000
    });
    const transaksi9 = new transaksi({
        id_transaksi: 9,
        id_pinjam: 54329,
        id_nsb: 1009,
        tgl_transaksi: "07-08-2022",
        jml_transaksi: 5000000
    });
    const transaksi10 = new transaksi({
        id_transaksi: 10,
        id_pinjam: 54330,
        id_nsb: 10010,
        tgl_transaksi: "07-09-2022",
        jml_transaksi: 4000000
    });
    //Simpanan
    const transaksi11 = new transaksi({
        id_transaksi: 11,
        id_nsb: 10011,
        id_simpan: 801,
        tgl_transaksi: "19-05-2022",
        jml_transaksi:2000000
    });
    const transaksi12 = new transaksi({
        id_transaksi: 12,
        id_nsb: 10012,
        id_simpan: 802,
        tgl_transaksi: "28-07-2022",
        jml_transaksi:1000000
    });
    const transaksi13 = new transaksi({
        id_transaksi: 13,
        id_nsb: 10013,
        id_simpan: 803,
        tgl_transaksi: "28-07-2022",
        jml_transaksi:5000000
    });
    const transaksi14 = new transaksi({
        id_transaksi: 14,
        id_nsb: 10014,
        id_simpan: 804,
        tgl_transaksi: "20-10-2022",
        jml_transaksi:7000000
    });
    const transaksi15 = new transaksi({
        id_transaksi: 15,
        id_nsb: 10015,
        id_simpan: 805,
        tgl_transaksi: "22-05-2022",
        jml_transaksi:6000000
    });
    const transaksi16 = new transaksi({
        id_transaksi: 16,
        id_nsb: 10016,
        id_simpan: 806,
        tgl_transaksi: "16-04-2022",
        jml_transaksi:2000000
    });
    const transaksi17 = new transaksi({
        id_transaksi: 17,
        id_nsb: 10017,
        id_simpan: 807,
        tgl_transaksi: "11-06-2022",
        jml_transaksi:8000000
    });
    const transaksi18 = new transaksi({
        id_transaksi: 18,
        id_nsb: 10018,
        id_simpan: 808,
        tgl_transaksi: "19-09-2022",
        jml_transaksi:4000000
    });
    const transaksi19 = new transaksi({
        id_transaksi: 19,
        id_nsb: 10019,
        id_simpan: 809,
        tgl_transaksi: "04-04-2022",
        jml_transaksi:3000000
    });
    const transaksi20 = new transaksi({
        id_transaksi: 20,
        id_nsb: 10020,
        id_simpan: 810,
        tgl_transaksi: "13-10-2022",
        jml_transaksi:9000000
    });

   
   //Mengecek apakah data sudah tersimpan atau error
    transaksi.insertMany(
    [transaksi1,transaksi2,transaksi3,transaksi4,transaksi5,transaksi6,transaksi7,transaksi8,transaksi9,transaksi10,transaksi11,transaksi12,transaksi13,transaksi14,transaksi15,transaksi16,transaksi17,transaksi18,transaksi19,transaksi20,],
    function (error) {
    if (error) {
    console.log(error);
    } else {
     exports.transaksi = function() {
                return "Data Simpanan Berhasil Disimpan!"
              }
    mongoose.connection.close();
    }
    }
    );
